## Приложение для сравнения статистики команд КХЛ

### Важно!!!
Сейчас не работает сайт(в частности вот [тут](https://www.khl.ru/stat/teams/1154/) пустая таблица), который парсится для получения данных, поэтому на некоторых страницах может отсутствовать информация.

### Для запуска используйте:
```
docker-compose up --build
```
Приложение будет доступно тут: localhost:3000
Бекенд сначала прогревается, первый запрос работает долго

### Зачем нужно? 
На официальном сайте [КХЛ](http://khl.ru) при просмотре превью к матчу выдается ограниченное число статистических фактов. При этом в недрах сайта есть таблички с статистикой. Но даже по этим таблицам тяжело сравнивать команды, так как они гораздо менее читбельны чем обычное попарное сравнение. 

По этим причинам был написан сервис, реализующий попарное сравнение команд по самой разной статистике. Есть возможность сравнить произвольные команды или же выбрать будущий матч по календарю. Также выбирается один из нескольких разделов статистики для сравнения.

[Демо-видео](demo_video.mp4)

[Еще одна ссылка на видео](https://disk.yandex.ru/i/pTM-F3URYULkQg)

### Как работает?
#### Backend
Используется Django. Для получения контента парсим [сайт](http://khl.ru) c помощью BeatifulSoup. Код парсинга лежит в файле `backend/backend/parser.py`. Распаршенные страницы с полезной информацией складываются в БД redis. Если в БД оказалась слишком старая версия страниц, то повторяем парсинг и обновляем хранилище(парсинг делаем не чаще чем раз в 10 минут). Первый запрос долго работает, так как БД пустая и нужно все распарсить. Views возвращают данные из хранилища redis согласно запросу.

#### Frontend
Используется React. Для хранения некоторых состояний используется redux. Компоненты используются из библиотеки material-ui. Запросы к бекенду выполняются через fetch.
